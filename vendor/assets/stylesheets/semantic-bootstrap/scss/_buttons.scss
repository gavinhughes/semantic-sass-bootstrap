// Core
@mixin btsBtn($type: 'default', $size: 'default', $icon: false, $primary: false, $state: 'default') {
  display: inline-block;
  @include ie7-inline-block();
  padding: 4px 10px 4px;
  margin-bottom: 0; // For input.btn
  font-size: $baseFontSize;
  line-height: $baseLineHeight;
  *line-height: 20px;
  color: $grayDark;
  text-align: center;
  text-shadow: 0 1px 1px rgba(255,255,255,.75);
  vertical-align: middle;
  cursor: pointer;
  @include buttonBackground($btnBackground, $btnBackgroundHighlight);
  border: 1px solid $btnBorder;
  *border: 0; // Remove the border to prevent IE7's black border on input:focus
  border-bottom-color: darken($btnBorder, 10%);
  @include border-radius(4px);
  @include ie7-restore-left-whitespace(); // Give IE7 some love
  @include box-shadow(#{inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05)});

  @if state == 'active' {
    $active: true;
    
    background-color: darken($white, 10%);
    background-color: darken($white, 15%) \9;
    background-image: none;
    outline: 0;
    @include box-shadow(#{inset 0 2px 4px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.05)});    
  }

  @if state == 'focus' {
    @include tab-focus();    
  }

  @if state == 'disabled' {
    cursor: default;
    background-color: darken($white, 10%);
    background-image: none;
    @include opacity(0.65);
    @include box-shadow(none);
  }

  @if primary {
    color: $white;
    text-shadow: 0 -1px 0 rgba(0,0,0,.25);

    @if $active {
      color: rgba(255,255,255,.75);
    }

    @include buttonBackground($btnPrimaryBackground, $btnPrimaryBackgroundHighlight);    
  }

  // Warning appears are orange
  @if $type == 'warning' {
    @include buttonBackground($btnWarningBackground, $btnWarningBackgroundHighlight);
  }
  // Danger and error appear as red
  @if $type == 'danger' {
    @include buttonBackground($btnDangerBackground, $btnDangerBackgroundHighlight);
  }
  // Success appears as green
  @if $type == 'success' {
    @include buttonBackground($btnSuccessBackground, $btnSuccessBackgroundHighlight);
  }
  // Info appears as a neutral blue
  @if $type == 'info' {
    @include buttonBackground($btnInfoBackground, $btnInfoBackgroundHighlight);
  }

  @if $type == 'inverse' {
    @include buttonBackground($btnInverseBackground, $btnInverseBackgroundHighlight);
  }  

  @if $size = 'large' {
    padding: 9px 14px;
    font-size: $baseFontSize + 2px;
    line-height: normal;
    @include border-radius(5px);

    @if $icon {
      margin-top: 1px;
    }

  }
  @if $size = 'small' {
    padding: 5px 9px;
    font-size: $baseFontSize - 2px;
    line-height: $baseLineHeight - 2px;

    @if $icon {
      margin-top: -1px;
    }  

  }
  @if $size = 'mini' {
    padding: 2px 6px;
    font-size: $baseFontSize - 2px;
    line-height: $baseLineHeight - 4px;
  }

  border-color: #ccc;
  border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);  
}

// Hover state
@mixin btsBtn-hover() {
  color: $grayDark;
  text-decoration: none;
  background-color: darken($white, 10%);
  *background-color: darken($white, 15%); // Buttons in IE7 don't get borders, so darken on hover
  background-position: 0 -15px;

  // transition is only when going to hover, otherwise the background
  // behind the gradient (there for IE<=9 fallback) gets mismatched
  @include transition(background-position .1s linear);
}
